{"filter":false,"title":"sidetogglemenu.js","tooltip":"/sidetogglemenu.js","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":135,"column":19},"action":"insert","lines":["/*","* Responsive Side Toggle Menu (c) Dynamic Drive (www.dynamicdrive.com)","* Last updated: June 2nd, 2013","* Visit http://www.dynamicdrive.com/ for this script and 100s more.","* Requires: jQuery 1.7 or higher","*/","","(function(w, $){","","\tvar mediabreakpoint = 'screen and (max-width: 480px)' // CSS media query. Should match that find in CSS above","\tvar $smallscreentoggler = $('<div id=\"smallscreentoggler\" data-state=\"closed\">&equiv;</div>') // HTML for small screen menus toggler","","\tvar defaults = {","\t\tposition: 'left',","\t\tpushcontent: true,","\t\tsource: 'inline',","\t\trevealamt: 0,","\t\tmarginoffset: 0,","\t\tdismissonclick: true,","\t\tcurstate: 'closed'","\t}","","\tvar menusarray = []","","\tw.sidetogglemenu = function(options){","\t\tvar s = $.extend({}, defaults, options)","\t\tif ( !window.matchMedia ){ // if browser doesn't support media query detection via JavaScript","\t\t\ts.pushcontent = false // disable revealing menu by pushing page content (as window.matchMedia is used in this case to restore BODY margins)","\t\t}","\t\tvar thismenu = this,","\t\t\t\t$body = $('body'),","\t\t\t\t$menu = '',","\t\t\t\texpandlength = ''","\t\tmenusarray.push( [this, s] )","","\t\tfunction init(menuref){","\t\t\t$menu = $(menuref).css({top: 0, visibility: 'hidden', zIndex: 1000}).prependTo(document.body)","\t\t\t$menu.on('click', function(e){","\t\t\t\tif (e.target.tagName != 'A')","\t\t\t\t\te.stopPropagation()","\t\t\t})","\t\t\t$smallscreentoggler.prependTo(document.body)","\t\t\tvar delta = parseInt($menu.outerWidth()) - s.revealamt","\t\t\tif ($smallscreentoggler.css('display') != 'block')","\t\t\t\tthis.toggle(s.curstate, delta)","\t\t\t$menu.css((s.position == 'left')? 'left' : 'right', -delta)","\t\t\t$menu.css({visibility: 'visible'})","\t\t\treturn delta","\t\t}","","\t\tthis.getmenu = function(){","\t\t\treturn $menu","\t\t}","","\t\tthis.toggle = function(action, w){","\t\t\tvar delta = w || expandlength","\t\t\ts.curstate = action || ( (s.curstate == 'closed')? 'open' : 'closed' )","\t\t\tif ($menu.css('position') != 'static'){","\t\t\t\tvar animprop = (s.position == 'left')? 'left' : 'right'","\t\t\t\t$menu.css(animprop, (s.curstate == 'open')? 0 : -delta)","\t\t\t\tif (s.pushcontent === true){","\t\t\t\t\t$body.css(animprop, (s.curstate == 'open')? delta + s.marginoffset : 0)","\t\t\t\t}","\t\t\t}","\t\t\telse{","\t\t\t\t$smallscreentoggler.trigger('toggle', action)","\t\t\t}","\t\t}","","\t\tif (s.pushcontent === true){","\t\t\t$body.css({position: 'absolute'})","\t\t}","","\t\tif (s.source == 'inline'){","\t\t\texpandlength = init.call(this, 'div#' + s.id)","\t\t}","\t\telse{","\t\t\t$.ajax({","\t\t\t\turl: s.source,","\t\t\t\tdataType: 'html',","\t\t\t\terror:function(ajaxrequest){","\t\t\t\t\talert('Error fetching content.<br />Server Response: '+ajaxrequest.responseText)","\t\t\t\t},","\t\t\t\tsuccess:function(content){","\t\t\t\t\texpandlength = init.call(thismenu, content)","\t\t\t\t}","\t\t\t})","\t\t}","","\t\treturn this","","\t}","","\tjQuery(function(){ // run once in document load","\t\t$smallscreentoggler.prependTo(document.body)","\t\t","\t\t$('body').on('click', function(e){ // dismiss menus onclick of BODY","\t\t\tvar $target = $(e.target)","\t\t\tif (e.type == 'click' && !$target.hasClass('sideviewtoggle')){","\t\t\t\tfor (var i=0; i < menusarray.length; i++){","\t\t\t\t\tif (menusarray[i][1].dismissonclick && menusarray[i][1].curstate == 'open')","\t\t\t\t\t\tmenusarray[i][0].toggle('closed')","\t\t\t\t}","\t\t\t}","\t\t})","","\t\t$smallscreentoggler.on('toggle', function(e, action){ // define custom \"toggle\" event on smallscreentoggler","\t\t\tfor (var i=0; i < menusarray.length; i++){","\t\t\t\tvar $menu = menusarray[i][0].getmenu()","\t\t\t\t$menu.css('display', ($menu.css('display') != 'block')? 'block' : 'none')","\t\t\t}","\t\t})","","\t\t$smallscreentoggler.on('click', function(e){ // trigger toggle event onclick of smallscreentoggler","\t\t\t$smallscreentoggler.trigger('toggle')","\t\t\te.stopPropagation()","\t\t})","","\t\tif (window.matchMedia){ ","\t\t\tvar mql = window.matchMedia( mediabreakpoint ) // CSS media queries matching","\t\t\tvar handlemediamatch = (function t(mql){","\t\t\t\tif (mql.matches){ // if CSS media query condition met (ie: device width less than 480px)","\t\t\t\t\t$('body').css({left:0, right:0})","\t\t\t\t}","\t\t    for (var i=0; i<menusarray.length; i++){","\t\t\t\t\tvar $menu = menusarray[i][0].getmenu()","\t\t\t\t\t$menu.css('display', (mql.matches)? 'none' : 'block')","\t\t\t\t}","\t\t\t\t\treturn t","\t\t\t}) (mql)","\t\t\tmql.addListener(function(){handlemediamatch(mql)})","\t\t}","\t})","","","}) (window, jQuery)"]}]}]]},"ace":{"folds":[],"scrolltop":944,"scrollleft":117,"selection":{"start":{"row":135,"column":19},"end":{"row":135,"column":19},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1428387533950,"hash":"72bdcd8e15d706c989877da2fed329c34f5dad81"}
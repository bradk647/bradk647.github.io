{"filter":false,"title":"pushmenu.js","tooltip":"/pushmenu.js","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":129,"column":19},"action":"insert","lines":["/*","* Side Push Menu","* Author: Dynamic Drive at http://www.dynamicdrive.com/","* Visit http://www.dynamicdrive.com/ for full source code","*/","","// Note (Nov 3rd, 14'): Upgraded to v1.1, which adds an animated drawer button to default code, plus fixes couple of minor bugs.","","(function(w, $){","","\tvar menutoggler = '<div class=\"menutoggler\" title=\"Open Push Menu\"><i class=\"fa fa-bars\"></i></div>' // FIxed menu Toggler HTML. Set to empty string '' to disable","\tvar togglerclass = 'toggleitem'","","\tvar defaults = {","\t\tposition: 'left',","\t\tpushcontent: true,","\t\tsource: 'inline',","\t\tfxduration: 100,","\t\twrapperid: 'contentwrapper',","\t\trevealamt: 0,","\t\tmarginoffset: 0,","\t\tdismissonclick: true,","\t\tcurstate: 'closed',","\t\tonopenclose: function(state){}","\t}","","\tdocument.createElement('nav') // for lesser IE browsers","\tvar menusarray = []","\tvar transform = true","","\tw.pushmenu = function(options){","\t\tvar s = $.extend({}, defaults, options)","\t\tvar thismenu = this,","\t\t\t\t$body = $(document.body),","\t\t\t\t$contentwrapper = $('#'+s.wrapperid),","\t\t\t\t$menutoggler = $(),","\t\t\t\t$menu = '',","\t\t\t\texpandlength = ''","\t\tmenusarray.push( [this, s] )","\t\tfunction init(menuref){","\t\t\t$menu = $(menuref).css({top: 0, visibility: 'hidden', zIndex: 1000, transitionDuration: s.fxduration +'ms'}).prependTo(document.body)","\t\t\tif (menutoggler != ''){","\t\t\t\t$menutoggler = $(menutoggler).css({transitionDelay: s.fxduration +'ms'}).addClass(s.position).appendTo(document.body)","\t\t\t}","\t\t\t$menu.on('click touchstart', function(e){","\t\t\t\tvar target = e.target","\t\t\t\t\te.stopPropagation()","\t\t\t})","\t\t\t.find('.closebutton').on('click', function(e){","\t\t\t\tthismenu.toggle('closed')","\t\t\t})","\t\t\t$menutoggler.on('click', function(e){","\t\t\t\tthismenu.toggle('open')","\t\t\t\te.stopPropagation()","\t\t\t})","\t\t\t$menu.addClass(s.position)","\t\t\tvar delta = parseInt($menu.outerWidth()) - s.revealamt","\t\t\t$menu.css((s.position == 'left')? 'left' : 'right', -delta)","\t\t\tthismenu.toggle(s.curstate, delta)","\t\t\t$menu.css({visibility: 'visible'})","\t\t\tif (transform){","\t\t\t\t$menu.on('transitionend webkitTransitionEnd', function(e){","\t\t\t\t\tif (/(left)|(right)/i.test(e.originalEvent.propertyName) && e.target.getAttribute('id') == s.menuid){ // check event fired on \"left or right\" prop","\t\t\t\t\t\tvar state = (parseInt($menu.css(s.position)) === 0)? 'open' : 'closed'","\t\t\t\t\t\ts.onopenclose(state)","\t\t\t\t\t}","\t\t\t\t})","\t\t\t}","\t\t\treturn delta","\t\t}","","\t\tthis.toggle = function(action, w){","\t\t\tvar delta = w || expandlength","\t\t\ts.curstate = action || ( (s.curstate == 'closed')? 'open' : 'closed' )","\t\t\tvar animprop = (s.position == 'left')? 'left' : 'right'","\t\t\t$body.removeClass('open closed').addClass(s.curstate)","\t\t\t$contentwrapper.removeClass('open closed').addClass(s.curstate)","\t\t\t$menu.css(animprop, (s.curstate == 'open')? 0 : -delta)","\t\t\t$menu.removeClass('open closed').addClass(s.curstate)","\t\t\tif (s.pushcontent === true){","\t\t\t\tvar wrapperstyle = {transitionDuration: s.fxduration +'ms'}","\t\t\t\twrapperstyle[animprop] = (s.curstate == 'open')? delta + s.marginoffset : 0","\t\t\t\t$contentwrapper.css(wrapperstyle)","\t\t\t}","\t\t\tif (!transform){","\t\t\t\ts.onopenclose(s.curstate)","\t\t\t}","\t\t}","","\t\tif (s.source == 'inline'){","\t\t\texpandlength = init('#' + s.menuid)","\t\t}","\t\telse{","\t\t\t$.ajax({","\t\t\t\turl: s.source,","\t\t\t\tdataType: 'html',","\t\t\t\terror:function(ajaxrequest){","\t\t\t\t\talert('Error fetching content.<br />Server Response: '+ajaxrequest.responseText)","\t\t\t\t},","\t\t\t\tsuccess:function(content){","\t\t\t\t\texpandlength = init(content)","\t\t\t\t}","\t\t\t})","\t\t}","","\t\treturn this","","\t}","","\tjQuery(function(){ // run once in document load","","\t\t$('.' + togglerclass).on('click', function(e){","\t\t\te.stopPropagation()","\t\t})","\t\t","\t\t$('body').on('click touchstart', function(e){ // dismiss menus onclick of BODY","\t\t\tvar $target = e.changedTouches? $(e.changedTouches[0]) : $(e.target)","\t\t\tif (/(click)|(touchstart)/i.test(e.type)){","\t\t\t\tfor (var i=0; i < menusarray.length; i++){","\t\t\t\t\tif (menusarray[i][1].dismissonclick && menusarray[i][1].curstate == 'open')","\t\t\t\t\t\tmenusarray[i][0].toggle('closed')","\t\t\t\t}","\t\t\t}","\t\t})","","","\t})","","","}) (window, jQuery)"]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":1},"end":{"row":10,"column":111},"action":"remove","lines":["var menutoggler = '<div class=\"menutoggler\" title=\"Open Push Menu\"><i class=\"fa fa-bars\"></i></div>' // FIxed "]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":129,"column":19},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1428390990355,"hash":"574a6a1e6b56fcfb0637ab839c962716c1a1ac93"}